(this["webpackJsonpdrawing-board"]=this["webpackJsonpdrawing-board"]||[]).push([[0],{1:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var a={PEN:"pen",COLOR_PICKER:"color picker",ERASER:"eraser",HIGHLIGHER:"highlighter",CLEAR:"clear",UNDO:"undo",REDO:"redo"},c=[1,3,5]},11:function(e,t,n){e.exports={canvas:"CanvasBoard_canvas__2FNkR",highlighterCanvas:"CanvasBoard_highlighterCanvas__25sLo",hide:"CanvasBoard_hide__1vutl",zIndex1:"CanvasBoard_zIndex1__3PFzr"}},12:function(e,t,n){e.exports={container:"StrokeWidthPicker_container__2ftFI",itemWrapper:"StrokeWidthPicker_itemWrapper__3HtM2",active:"StrokeWidthPicker_active__32ssn",item:"StrokeWidthPicker_item__2uMHx"}},25:function(e,t,n){},26:function(e,t,n){e.exports={container:"Header_container__7iTTy"}},28:function(e,t,n){e.exports=n(65)},6:function(e,t,n){e.exports={container:"ColorPicker_container__2Qg69",hide:"ColorPicker_hide__13WzM",colorLine:"ColorPicker_colorLine__M5iOw",colorLineItem:"ColorPicker_colorLineItem__2zn0q",selected:"ColorPicker_selected__1Z3BX",colorBox:"ColorPicker_colorBox__3PkPY",colorBoxItem:"ColorPicker_colorBoxItem__12vQ9",selectedColor:"ColorPicker_selectedColor__1GqsG"}},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"UPDATE_COLOR",(function(){return f})),n.d(a,"TOGGLE_MENU_ITEM",(function(){return O})),n.d(a,"UPDATE_STROKE_WIDTH",(function(){return C}));var c=n(0),o=n.n(c),r=n(14),i=n.n(r),l=n(2),s=n(3),u=n(7),d=n(5),_=n(4),h=n.n(_),m=n(1),v=n(11),E=n.n(v),b=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),a=Object(c.useState)(500),r=Object(d.a)(a,2),i=r[0],_=r[1],v=Object(c.useState)(500),b=Object(d.a)(v,2),f=b[0],O=b[1],C=Object(c.useState)([0,0]),g=Object(d.a)(C,2),j=g[0],k=g[1],p=Object(c.useState)(!1),I=Object(d.a)(p,2),w=I[0],N=I[1],S=Object(c.useState)(!1),H=Object(d.a)(S,2),R=H[0],T=H[1],P=Object(c.useState)(!1),L=Object(d.a)(P,2),A=L[0],D=L[1],M=Object(c.useState)([]),G=Object(d.a)(M,2),y=G[0],B=G[1],W=Object(c.useState)(-1),x=Object(d.a)(W,2),U=x[0],V=x[1],z=Object(l.c)((function(e){return e.menu.color})),X=z.hue,F=z.saturation,K=z.lightness,q=Object(l.c)((function(e){return e.menu.selectedMenuItem})),J=Object(l.c)((function(e){return e.menu.selectedStrokeWidth}));Object(c.useLayoutEffect)((function(){if(_(window.innerHeight),O(window.innerWidth),null===t||void 0===t?void 0:t.current){var e=t.current;window.__DB_CANVAS_ELEMENT=e,e.getContext&&(window.__DB_CANVAS_PEN_CONTEXT_2D=e.getContext("2d"))}if(null===n||void 0===n?void 0:n.current){var a=n.current;window.__DB_CANVAS_HIGHLIGHTER_ELEMENT=a,a.getContext&&(window.__DB_CANVAS_HIGHLIGHTER_CONTEXT_2D=a.getContext("2d"))}return function(){delete window.__DB_CANVAS_PEN_CONTEXT_2D,delete window.__DB_CANVAS_HIGHLIGHTER_CONTEXT_2D,delete window.__DB_CANVAS_ELEMENT}}),[]),Object(c.useLayoutEffect)((function(){var e=$();q===m.a.CLEAR?(Q(),B([])):q.includes(m.a.UNDO)&&U>=0?Y(e):q.includes(m.a.REDO)&&U<y.length&&Z(e)}),[q]);var Q=function(){var e=$(),t=ee();e.clearRect(0,0,e.canvas.width,e.canvas.height),t.clearRect(0,0,t.canvas.width,t.canvas.height)},Y=function(e){var t=U-1;if(V(t),Q(),t>=0&&y[t]){var n=new Image;n.src=y[t],n.onload=function(){e.drawImage(n,0,0)}}},Z=function(e){var t=U+1;if(t<y.length&&y[t]){Q(),V(t);var n=new Image;n.src=y[t],n.onload=function(){e.drawImage(n,0,0)}}},$=function(){var e;return null!==(e=window.__DB_CANVAS_PEN_CONTEXT_2D)&&void 0!==e?e:{}},ee=function(){var e;return null!==(e=window.__DB_CANVAS_HIGHLIGHTER_CONTEXT_2D)&&void 0!==e?e:{}},te=function(){T(!0),$().clearRect(j[0]-20,j[1]-20,40,40)},ne=function(e){switch(k([e.clientX,e.clientY]),q){case m.a.PEN:w&&function(){var e=$();e.lineTo.apply(e,Object(u.a)(j)),e.stroke()}();break;case m.a.ERASER:R&&te();break;case m.a.HIGHLIGHER:A&&function(){var e=ee();e.lineTo.apply(e,Object(u.a)(j)),e.stroke()}()}},ae=function(e){switch(q){case m.a.PEN:!function(){N(!0);var e=$(),t=ee();t.clearRect(0,0,t.canvas.width,t.canvas.height),e.strokeStyle="hsl(".concat(X," ").concat(F,"% ").concat(K,"%)"),e.lineWidth=J,e.lineCap="round",e.beginPath(),e.moveTo.apply(e,Object(u.a)(j))}();break;case m.a.ERASER:te();break;case m.a.HIGHLIGHER:!function(){D(!0);var e=ee();e.strokeStyle="hsl(".concat(X," ").concat(F,"% ").concat(K,"%)"),e.lineWidth=5,e.lineCap="round",e.beginPath(),e.moveTo.apply(e,Object(u.a)(j))}()}},ce=function(e){var t=function(){var e;return null!==(e=window.__DB_CANVAS_ELEMENT)&&void 0!==e?e:{}}();switch(q){case m.a.PEN:N(!1),$().closePath();break;case m.a.ERASER:T(!1);break;case m.a.HIGHLIGHER:D(!1),ee().closePath()}if(null===t||void 0===t?void 0:t.toDataURL){var n=[].concat(Object(u.a)(y),[t.toDataURL()]);B(n),V(n.length-1)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("canvas",{className:h()(E.a.canvas,Object(s.a)({},E.a.zIndex1,q!==m.a.HIGHLIGHER)),ref:t,height:i,width:f,onMouseMove:ne,onMouseDown:ae,onMouseUp:ce},"Canvas is not supported in this browser!"),o.a.createElement("canvas",{className:h()(E.a.highlighterCanvas,Object(s.a)({},E.a.zIndex1,q===m.a.HIGHLIGHER)),ref:n,height:window.innerHeight,width:window.innerWidth,onMouseMove:ne,onMouseDown:ae,onMouseUp:ce},"Canvas is not supported in this browser!"))},f="UPDATE_COLOR",O="TOGGLE_MENU_ITEM",C="UPDATE_STROKE_WIDTH",g=n(22),j=n.n(g);var k=function(e){var t={};return Object.values(e).forEach((function(e){t[j()(e)]=function(t){return{type:e,payload:t}}})),t}(a),p=n(6),I=n.n(p),w=Object(c.memo)((function(e){for(var t=e.hue,n=e.saturation,a=e.lightness,c=e.onUpdateHsl,r=[],i=100;i>=0;i--)for(var l=0;l<=100;l++)r.push(o.a.createElement("div",{key:"color-box-item-".concat(i,"-").concat(l),className:h()(I.a.colorBoxItem,Object(s.a)({},I.a.selected,i===n&&l===a)),style:{backgroundColor:"hsl(".concat(t,", ").concat(i,"%, ").concat(l,"%)")},"data-saturation":i,"data-lightness":l}));return o.a.createElement("div",{onClick:function(e){if(e.target.className.includes("colorBoxItem")){var o=e.target.dataset,r=o.saturation,i=void 0===r?n:r,l=o.lightness,s=void 0===l?a:l;c({hue:t,saturation:Number(i),lightness:Number(s)})}e.stopPropagation()},className:I.a.colorBox},r)})),N=Object(c.memo)((function(e){for(var t=e.hue,n=e.saturation,a=e.lightness,c=e.onUpdateHsl,r=[],i=function(e){r.push(o.a.createElement("div",{key:"color-line-item-".concat(e),className:h()(I.a.colorLineItem,Object(s.a)({},I.a.selected,t===e)),style:{backgroundColor:"hsl(".concat(e,", 100%, 50%)")},onClick:function(){return c({hue:e,saturation:n,lightness:a})}}))},l=0;l<360;l++)i(l);return o.a.createElement("div",{className:I.a.colorLine},r)})),S=Object(c.memo)((function(e){var t=e.selectedColor,n=e.onColorUpdate,a=e.hide;return o.a.createElement("div",{className:h()(I.a.container,Object(s.a)({},I.a.hide,a))},o.a.createElement(N,Object.assign({},t,{onUpdateHsl:n})),o.a.createElement(w,Object.assign({},t,{onUpdateHsl:n})))})),H=n(12),R=n.n(H),T=Object(c.memo)((function(e){var t=e.selectedColor,n=e.onStrokeWidthItemClick,a=e.selectedStrokeWidth;return o.a.createElement("div",{className:R.a.container},m.b.map((function(e){return o.a.createElement("div",{key:"stroke-width-item-".concat(e),className:h()(R.a.itemWrapper,Object(s.a)({},R.a.active,e===a)),onClick:function(){return n(e)}},o.a.createElement("div",{className:h()(R.a.item),style:{background:"hsl(".concat(t.hue," ").concat(t.saturation,"% ").concat(t.lightness,"%)"),height:e}}))})))})),P=n(25),L=n.n(P),A=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,67))})),D=function(e){var t=Object(l.b)(),n=Object(l.c)((function(e){return e.menu.color})),a=Object(l.c)((function(e){return e.menu.selectedMenuItem})),r=Object(l.c)((function(e){return e.menu.selectedStrokeWidth})),i=Object(c.useCallback)((function(e){return t(k.updateColor(e))}),[t]),s=Object(c.useCallback)((function(e){return t(k.toggleMenuItem(e))}),[t]),u=Object(c.useCallback)((function(e){return t(k.updateStrokeWidth(e))}),[t]);return o.a.createElement("div",{className:L.a.container},o.a.createElement(A,{selectedMenuItem:a,onMenuItemClick:s}),o.a.createElement(S,{hide:a!==m.a.COLOR_PICKER,onColorUpdate:i,selectedColor:n}),a===m.a.PEN&&o.a.createElement(T,{selectedColor:n,onStrokeWidthItemClick:u,selectedStrokeWidth:r}))},M=n(26),G=n.n(M),y=Object(c.memo)((function(){return o.a.createElement("div",{className:G.a.container},"drawing board")}));var B=function(){var e=Object(l.c)((function(e){return e.menu.color})),t=e.hue,n=e.saturation,a=e.lightness;return o.a.createElement("div",{style:{"--selectedColor":"hsl(".concat(t," ").concat(n,"% ").concat(a,"%)"),"--hue":t,"--saturation":"".concat(n,"%"),"--lightness":"".concat(a,"%")}},o.a.createElement(c.Suspense,{fallback:"loading..."},o.a.createElement(y,null),o.a.createElement(b,null),o.a.createElement(D,null)))},W=n(8),x=n(9),U={init:!1},V={color:{hue:5,saturation:10,lightness:20},selectedMenuItem:"",selectedStrokeWidth:m.b[0]};var z,X=Object(W.c)({canvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;switch(n){case"CANVAS_INIT":return Object(x.a)({},e,{init:!0});default:return e}},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case f:return Object(x.a)({},e,{color:a});case O:return Object(x.a)({},e,{selectedMenuItem:a});case C:return Object(x.a)({},e,{selectedStrokeWidth:a});default:return e}}}),F=Object(W.d)(X,(z=[],W.a.apply(void 0,Object(u.a)(z))));n(64);i.a.render(o.a.createElement(l.a,{store:F},o.a.createElement(o.a.StrictMode,null,o.a.createElement(B,null))),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.8e30870c.chunk.js.map